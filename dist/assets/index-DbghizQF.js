(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();let D={},x;const q=e=>{D=e},N=e=>{x=e},M=(e,a={})=>{x.innerHTML="";const i=(D[e]??D["/error"])(a);x.appendChild(i)},I=e=>{const a=new URLSearchParams(e);return Object.fromEntries(a)},j=(e,a={})=>{const n=e+"?"+new URLSearchParams(a);history.pushState({},"",n),M(location.pathname,a)},G=({currentTarget:{location:e}})=>{const a=e.pathname,n=I(e.search);M(a,n)},f=[{id:"lorelai_gilmore",name:"Lorelai Gilmore",shortDescription:"Gerente de Dragonfly Inn.",description:"Lorelai Gilmore es una madre soltera fuerte y valiente que ha criado a su hija Rory con amor y determinación. Como gerente de Dragonfly Inn, Lorelai demuestra su pasión por el café, las películas y los libros.",imageUrl:"https://upload.wikimedia.org/wikipedia/en/c/c6/LorelaiGilmore.jpg",facts:{ocupación:"Gerente de Dragonfly Inn",intereses:[" Café"," Películas"," Libros"],"número de apariciones":153}},{id:"rory_gilmore",name:"Rory Gilmore",shortDescription:"Estudiante universitaria.",description:"Rory Gilmore es una estudiante universitaria inteligente y apasionada por el periodismo. Su amor por los libros y el café la lleva a explorar el mundo con curiosidad y determinación.",imageUrl:"https://qph.cf2.quoracdn.net/main-qimg-4bfc69b193566e7e5d39919f48f77ff6",facts:{ocupación:"Estudiante universitaria",intereses:[" Periodismo"," Libros"," Café"],"número de apariciones":153}},{id:"emily_gilmore",name:"Emily Gilmore",shortDescription:"Socialité",description:"Emily Gilmore es una distinguida socialité que se mueve en los círculos más exclusivos de la sociedad. Su amor por el arte y la música clásica refleja su elegancia y sofisticación.",imageUrl:"https://cdn.vox-cdn.com/thumbor/_pmWu3TKeg-CndaOQN5wGl3anrs=/0x0:640x480/1400x1400/filters:focal(269x189:371x291):format(jpeg)/cdn.vox-cdn.com/uploads/chorus_image/image/51998983/emily.0.jpeg",facts:{ocupación:"Socialité",intereses:[" Sociedad"," Arte"," Música"],"número de apariciones":113}},{id:"richard_gilmore",name:"Richard Gilmore",shortDescription:"Empresario sofisticado.",description:"Richard Gilmore es un exitoso empresario con un gusto refinado por los negocios, el golf y la literatura. Su presencia imponente y su sabiduría lo convierten en una figura destacada en la vida de sus seres queridos.",imageUrl:"https://image.gala.de/20360122/t/Oe/v18/w1440/r0/-/gilmore-girls05--4746526-.jpg",facts:{ocupación:"Empresario",intereses:["Negocios"," Golf"," Literatura"],"número de apariciones":79}},{id:"luke_danes",name:"Luke Danes",shortDescription:"Dueño de Luke's Diner.",description:"Luke Danes es un hombre de pocas palabras con un corazón de oro. Como dueño de Luke's Diner, se preocupa profundamente por su comunidad y disfruta de su pasión por el café, la cocina y la música.",imageUrl:"https://i.pinimg.com/originals/86/ec/1e/86ec1e6872ec003b6e4dacf06686a8dc.jpg",facts:{ocupación:"Dueño de Luke's Diner",intereses:[" Café"," Cocina"," Música"],"número de apariciones":152}},{id:"sookie_st_james",name:"Sookie St. James",shortDescription:"Chef apasionada.",description:"Sookie St. James es una talentosa chef conocida por su pasión por la cocina y la jardinería. Su amabilidad y amistad la convierten en una persona querida en Stars Hollow y más allá.",imageUrl:"https://i.pinimg.com/736x/64/ec/27/64ec27f7311b1061dbf0f450a8eb1bb5.jpg",facts:{ocupación:"Chef",intereses:[" Cocina"," Jardinería"," Amistad"],"número de apariciones":151}},{id:"paris_geller",name:"Paris Geller",shortDescription:"Estudiante ambiciosa.",description:"Paris Geller es una estudiante universitaria con una ambición desmedida por el éxito académico y el liderazgo. Apasionada por la medicina, Paris es conocida por su determinación y fuerte personalidad.",imageUrl:"https://helios-i.mashable.com/imagery/articles/07nNi4IIJfVJkVCzMar8oCI/hero-image.fill.size_1200x1200.v1611614261.jpg",facts:{ocupación:"Estudiante universitaria",intereses:[" Éxito académico"," Liderazgo"," Medicina"],"número de apariciones":66}},{id:"lane_kim",name:"Lane Kim",shortDescription:"Apasionada por la música.",description:"Lane Kim es una joven apasionada por la música alternativa y la batería. Sueña con seguir su pasión musical mientras lucha por equilibrar las expectativas de su estricta familia y su deseo de libertad.",imageUrl:"https://i.pinimg.com/originals/ca/14/d7/ca14d70418e7f5feb7d4dcd227b6380d.jpg",facts:{ocupación:"Música",intereses:[" Música alternativa"," Batería"," Discos"],"número de apariciones":133}},{id:"michel_gerard",name:"Michel Gerard",shortDescription:"Amante de la cultura francesa.",description:"Michel Gerard es un recepcionista de modales impecables con un amor por viajar, la moda y la cultura francesa. Aunque a menudo muestra una actitud sarcástica, su lealtad a Lorelai y su trabajo es innegable.",imageUrl:"https://i.pinimg.com/originals/7d/89/d7/7d89d7552793ca81edf8505d52182d6d.jpg",facts:{ocupación:"Recepcionista",intereses:["Viajar"," Moda"," Cultura francesa"],"número de apariciones":94}},{id:"kirk_gleason",name:"Kirk Gleason",shortDescription:"Hombre polifacético.",description:"Kirk Gleason es conocido en Stars Hollow por sus innumerables trabajos y sus intentos inusuales de emprendimiento. Aunque a menudo es excéntrico, su corazón está en el lugar correcto y es apreciado por la comunidad.",imageUrl:"https://i.pinimg.com/736x/a7/72/a4/a772a4930caae0c7a212c7632a690786.jpg",facts:{ocupación:"Trabajador múltiple",intereses:["Organización"],"número de apariciones":153}},{id:"taylor_doose",name:"Taylor Doose",shortDescription:"Dueño de la tienda de comestibles.",description:"Taylor Doose es el infame dueño de la tienda de comestibles de Stars Hollow, conocido por su obsesión por la organización y las políticas municipales. Aunque a menudo es un tanto estricto, su amor por su comunidad es evidente.",imageUrl:"https://telltaletv.com/wp-content/uploads/2022/11/358_GILMOREGIRLS_101_SPR_02931R-scaled-e1668874657217-730x487.jpg",facts:{ocupación:"Dueño de la tienda de comestibles",intereses:["Organización","Comunidad","Políticas municipales"],"número de apariciones":153}},{id:"christopher_hayden",name:"Christopher Hayden",shortDescription:"Empresario viajero.",description:"Christopher Hayden es un exitoso empresario con un interés en los negocios, la familia y los viajes. Aunque su relación con Lorelai ha sido complicada, su amor por su hija Rory es innegable.",imageUrl:"https://i.pinimg.com/474x/52/69/55/5269556ffe9e06945e3c11568a66d5d5.jpg",facts:{ocupación:"Empresario",intereses:[" Negocios"," Familia"," Viajes"],"número de apariciones":41}},{id:"dean_forester",name:"Dean Forester",shortDescription:"Vendedor de automóviles.",description:"Dean Forester es un vendedor de automóviles con una pasión por los coches y los deportes. Su relación con Rory Gilmore es una parte importante de su vida, aunque enfrenta desafíos mientras intenta equilibrar trabajo y amor.",imageUrl:"https://www.newamericanjackets.com/wp-content/uploads/2020/01/Dean-Forester-Gilmore-Girls-Jared-Padalecki-Jacket.jpg",facts:{ocupación:"Vendedor",intereses:[" Automóviles"," Deportes"," Rory"],"número de apariciones":63}},{id:"jess_mariano",name:"Jess Mariano",shortDescription:"Apasionado por la literatura.",description:"Jess Mariano es un joven librero con un profundo amor por la literatura, la música y la escritura. A pesar de su actitud desafiante, muestra un lado sensible y reflexivo que lo hace intrigante para aquellos que lo conocen.",imageUrl:"https://i.pinimg.com/736x/93/1d/69/931d697cac68b072d957f6c59e7662b7.jpg",facts:{ocupación:"Librero",intereses:[" Literatura"," Música","Escritura"],"número de apariciones":53}},{id:"miss_patty",name:"Miss Patty",shortDescription:"Bailarina retirada.",description:"Miss Patty es una bailarina retirada y la dueña de la escuela de danza de Stars Hollow. Con un amor por el baile y los chismes, es una figura querida en la comunidad que a menudo ofrece sabios consejos y un oído atento.",imageUrl:"https://www.plusbydesign.com/cdn/shop/articles/miss_patty_1024x1024.jpg?v=1500067505",facts:{ocupación:"Bailarina retirada / Dueña de la escuela de danza",intereses:[" Bailar"," Chismes"," Enseñar"],"número de apariciones":103}},{id:"mrs_kim",name:"Mrs. Kim",shortDescription:"Dueña de tienda de antigüedades.",description:"Mrs. Kim es una mujer de fuertes convicciones y tradiciones coreanas, dueña de una tienda de antigüedades en Stars Hollow. Aunque estricta, muestra un lado compasivo y amoroso hacia su hija Lane y la comunidad.",imageUrl:"https://i.insider.com/654d29b63cc84b4dfaff9c6e?width=1136&format=jpeg",facts:{ocupación:"Dueña de la tienda de antigüedades",intereses:["Cultura coreana"," Religión"," Tradiciones"],"número de apariciones":58}},{id:"jackson_belville",name:"Jackson Belleville",shortDescription:"Granjero apasionado.",description:"Jackson Belleville es un granjero comprometido con la agricultura orgánica y la sostenibilidad. Además de su amor por la tierra, es un devoto esposo y padre que se preocupa profundamente por su familia y su comunidad.",imageUrl:"https://img.buzzfeed.com/buzzfeed-static/static/2020-10/28/19/enhanced/d19a304dfdf4/enhanced-278-1603911978-16.png?crop=570:407;40,0&output-format=jpg&output-quality=auto",facts:{ocupación:"Granjero",intereses:[" Agricultura"," Cocina orgánica"," Familia"],"número de apariciones":123}},{id:"dave_rygalski",name:"Dave Rygalski",imageUrl:"https://helios-i.mashable.com/imagery/articles/02ZrrZUp4BFMGx67HI4fqNi/hero-image.fill.size_1200x1200.v1611614173.jpg",shortDescription:"Amigo y compañero de banda de Lane Kim.",description:"Dave Rygalski es un amigo cercano y compañero de banda de Lane Kim en 'Gilmore Girls'. Es un músico talentoso y tuvo una relación sentimental con el personaje de Lane",facts:{ocupación:"Estudiante",intereses:[" Música"," Guitarra"," Banda de Lane"],"número de apariciones":11}},{id:"tj",name:"TJ",shortDescription:"Carismático y un mecánico hábil.",description:"TJ es un mecánico habilidoso y trabajador que tiene una fuerte conexión con su familia. Aunque a veces puede ser excéntrico, su corazón está en el lugar correcto y siempre está dispuesto a ayudar a sus seres queridos.",imageUrl:"https://i.pinimg.com/564x/cc/61/84/cc6184804791844d5a596def0868eaef.jpg",facts:{ocupación:"Mecánico",intereses:[" Automóviles"," Trabajo manual"," Familia"],"número de apariciones":12}},{id:"liz_danes",name:"Liz Danes",shortDescription:"Apasionada por el arte y la música.",description:"Liz Danes es una mujer apasionada por el arte, la música y la literatura. Como dueña de una tienda de antigüedades, comparte su amor por el pasado y la cultura con la comunidad de Stars Hollow.",imageUrl:"https://alchetron.com/cdn/kathleen-wilhoite-86a2f078-f431-4d62-acf8-0e7421c4d38-resize-750.jpeg",facts:{ocupación:"Dueña de tienda de antigüedades",intereses:[" Arte"," Música"," Libros"],"número de apariciones":10}},{id:"carolyn_bates",name:"Carolyn Bates",shortDescription:"Directora de la escuela comprometida.",description:"Carolyn Bates es una directora de escuela comprometida con la educación y el bienestar de sus alumnos. Con un profundo amor por la literatura y la cultura, inspira a otros con su pasión por el aprendizaje.",imageUrl:"https://m.media-amazon.com/images/M/MV5BNzM0ODQ5NzY4Nl5BMl5BanBnXkFtZTgwNzQ2OTQ3MDI@._V1_.jpg",facts:{ocupación:"Directora de la escuela",intereses:[" Educación"," Cultura"," Literatura"],"número de apariciones":7}},{id:"nicole_lewis",name:"Nicole Lewis",shortDescription:"Abogada comprometida con la justicia.",description:"Nicole Lewis es una abogada comprometida con la justicia y los derechos humanos. Su pasión por el servicio comunitario y su dedicación a ayudar a los demás la convierten en un pilar en la comunidad legal de Stars Hollow.",imageUrl:"https://media.themoviedb.org/t/p/w500/j0V63QscxjhZNeIWPHhtcFkLtUf.jpg",facts:{ocupación:"Abogada",intereses:["Leyes"," Justicia"," Viajar"],"número de apariciones":27}},{id:"zack_van_gerbig",name:"Zack Van Gerbig",imageUrl:"https://i.pinimg.com/736x/eb/96/7b/eb967b9165158f7a03aca8c66f29d1f5.jpg",shortDescription:"Guitarrista y miembro de la banda de Hep Alien.",description:"Zack Van Gerbig es un guitarrista talentoso y un miembro fundamental de la banda de Hep Alien en 'Gilmore Girls'. A lo largo de la serie, demuestra su dedicación a la música y su lealtad hacia sus amigos y compañeros de banda.",facts:{ocupación:"Músico / Miembro de Hep Alien",intereses:[" Música rock"," Batería"," Lane Kim"],"número de apariciones":101}},{id:"fran_weston",name:"Fran Weston",shortDescription:"Apasionada por las antigüedades y la historia.",description:"Fran Weston es una apasionada de las antigüedades, la historia y la cultura. Como dueña de una tienda de antigüedades en Stars Hollow, comparte su amor por el pasado con la comunidad y los visitantes.",imageUrl:"https://annotatedgilmoregirls.files.wordpress.com/2018/06/fran-weston.jpg",facts:{ocupación:"Dueña de la tienda de antigüedades",intereses:[" Antigüedades"," Historia"," Cultura"],"número de apariciones":11}}];function U(e,a,n){if(!e||!a||!n)return"Faltan definir parametros";let i=[];return i=e.filter(t=>t.facts[a].includes(n)),i}function B(e,a,n){const i=e.map(t=>({...t}));return console.log(i),n==="asc"?i.sort((t,o)=>t.name.localeCompare(o.name)):i.sort((t,o)=>o.name.localeCompare(t.name))}function R(e){const a=e.reduce((n,i)=>{const t=i.facts["número de apariciones"];return n.sum+=t,n.count++,n},{sum:0,count:0});return a.mean=a.sum/a.count,a}const z=()=>{const e=document.createElement("div");e.innerHTML=`<header>
  <h1> GILMORE GIRLS SERIE </h1>
</header>
<button id="abrir" class="abrir-menu">abrir</button>
<nav class="nav">
  <button id="cerrar" class="cerrar-menu">cerrar</button>
  <div id="controles">
    <div id="apikeybutton"></div>
    <label for="filter"> Filtrar por :</label>
    <select id="filter" data-testid="select-filter" name="intereses">
      <option value=" Arte">Arte</option>
      <option value=" Café">Café</option>
      <option value=" Música">Música</option>
      <option value=" Libros">Libros</option>
    </select>

    <label for="order"> Ordenar por :</label>
    <select id="select-sort" data-testid="select-sort" name="name" itemprop="select-sort">
      <option value="asc">A Z</option>
      <option value="desc">Z A</option>
    </select>
    <button id="resetButton" data-testid="button-clear">LIMPIAR</button>
    <button id="calcular">PROMEDIO DE APARICIONES:</button>
    <button id="group-chat-button">
  </div>
</nav>
<main>
    <div id="estadistica"></div>
    <div id="apikey-view"></div> 
    <div id="home"> </div>
  </main>
  <footer>
    <p>Derechos de autor &copy;María Belén Guzmán</p>
  </footer>`;const a=e.querySelector("#home"),n=e.querySelector("#apikeybutton"),i=document.createElement("button");i.className="button-ApiKey",i.textContent="Ir a ApiKey",i.addEventListener("click",()=>{j("/apikey")}),n.appendChild(i);const t=h=>{const b=document.createElement("ul");return b.className="cards-container",h.forEach(v=>{const C=document.createElement("li");C.className="cards";const k=document.createElement("img");k.src=v.imageUrl,C.appendChild(k);const w=document.createElement("span");w.textContent=v.name,C.appendChild(w);const A=document.createElement("dt");A.textContent="Intereses:",C.appendChild(A);const S=document.createElement("dd");S.textContent=v.facts.intereses,C.appendChild(S);const L=document.createElement("button");L.textContent="Chatea Conmigo",L.className="chat-button",L.dataset.id=v.id,C.appendChild(L),L.addEventListener("click",()=>{j("/chat",{id:v.id})}),b.appendChild(C)}),b},o=e.querySelector("#estadistica"),r=e.querySelector("#filter"),c=e.querySelector("#select-sort"),p=e.querySelector("#resetButton"),l=e.querySelector("#calcular"),g=e.querySelector("#abrir"),s=e.querySelector("#cerrar"),u=e.querySelector(".nav");g.addEventListener("click",function(){u.classList.add("visible")}),s.addEventListener("click",()=>{u.classList.remove("visible")});let d=f;const y=t(d);a.appendChild(y),r.addEventListener("change",function(h){d=U(f,"intereses",h.target.value),a.innerHTML="";const b=t(d);a.appendChild(b)}),c.addEventListener("change",function(h){const b=B(d,"name",h.target.value);a.innerHTML="";const v=t(b);a.appendChild(v)}),p.addEventListener("click",function(){r.value="",c.value="",a.innerHTML="",d=f;const h=t(f);a.appendChild(h)});let m=null;l.addEventListener("click",function(){const h=R(f);m?(m.remove(),m=null):(m=document.createElement("p"),m.textContent=`El promedio de número de apariciones es: ${h.mean}`,o.appendChild(m))});const E=e.querySelector("#group-chat-button");return E.textContent="Chat Grupal",E.addEventListener("click",()=>{j("/chatgroup")}),e},K=()=>localStorage.getItem("myKey"),O=e=>{localStorage.setItem("myKey",e)},P=()=>{const e=document.createElement("div");e.id="apikey-container";const a=document.createElement("input");a.type="text",a.placeholder="Ingresa tu API Key",a.id="apikey-input";const n=document.createElement("button");return n.textContent="Guarda tu API Key",n.className="saveApiKey",n.onclick=()=>{const i=a.value;O(i),alert("API Key guardada!")},e.appendChild(a),e.appendChild(n),e},H=(e,a,n)=>axios.post(e,a,{headers:n}),T=K(),_=e=>{const a="https://api.openai.com/v1/chat/completions",n={"Content-Type":"application/json",Authorization:`Bearer ${T}`};return H(a,{model:"gpt-4o",messages:e},n).then(t=>t.data.choices[0].message.content).catch(t=>t)},F=({id:e})=>{const a=f.find(u=>u.id===e),n=document.createElement("div");n.className="chat-container";const i=document.createElement("div");i.className="chat-header";const t=document.createElement("button");t.className="back-button",t.innerHTML="←",t.addEventListener("click",()=>{window.location.href="/"}),i.appendChild(t);const o=document.createElement("img");o.src=a.imageUrl,o.className="imageCharacter";const r=document.createElement("div");r.className="title-container";const c=document.createElement("div");c.className="title",c.textContent=`${a.name}`;const p=document.createElement("div");p.className="subtitle",p.textContent="En línea",r.appendChild(c),r.appendChild(p),i.appendChild(o),i.appendChild(r);const l=document.createElement("div");l.id="chat-box";const g=document.createElement("textarea");g.className="cuadroinput",g.placeholder="Escribe tu mensaje...";const s=document.createElement("button");return s.textContent="Enviar",s.className="send",s.addEventListener("click",()=>{const u=g.value;if(u.trim()===""){alert("Por favor, escribe un mensaje.");return}const d=document.createElement("p");d.textContent=`Tú: ${u}`,d.className="user-message",l.appendChild(d),g.value="";const y=[{role:"user",content:`Actúa simulando ser ${a.name}, ${u}`}];_(y).then(m=>{const E=document.createElement("p");E.className="bot-message",E.textContent=`${a.name}: ${m}`,l.appendChild(E)}).catch(m=>{console.log(m)})}),n.appendChild(i),n.appendChild(l),n.appendChild(g),n.appendChild(s),n},V=()=>{const e=document.createElement("div");e.className="chat-container";const a=document.createElement("img"),n="https://okdiario.com/img/series/2016/02/1445601206_241811_1445601596_sumario_normal.jpg";a.src=n,a.classList.add("imagenchatgrupal");const i=document.createElement("button");i.className="back-button-group",i.innerHTML="←",i.addEventListener("click",()=>{window.location.href="/"});const t=document.createElement("div");t.className="chat-headergroup",t.textContent="Stars Hollow";const o=document.createElement("div");o.id="chat-box";const r=document.createElement("textarea");r.className="cuadroinput",r.placeholder="Escribe tu mensaje...";const c=document.createElement("button");return c.textContent="Enviar",c.className="send",c.addEventListener("click",()=>{const p=r.value;if(p.trim()===""){alert("Por favor, escribe un mensaje.");return}const l=document.createElement("p");l.textContent=`Tú: ${p}`,l.className="user-message",o.appendChild(l),r.value="";const g=f.map(s=>({role:"user",content:`Actúa simulando ser ${s.name}, ${p}`}));Promise.all(g.map(s=>_([s]))).then(s=>{s.forEach((u,d)=>{const y=document.createElement("p");y.className="bot-message",y.textContent=`${f[d].name}: ${u}`,o.appendChild(y)})}).catch(s=>{console.error(s)})}),e.appendChild(a),e.appendChild(i),e.appendChild(t),e.appendChild(o),e.appendChild(r),e.appendChild(c),e},J={"/":z,"/apikey":P,"/chat":F,"/chatgroup":V};q(J);window.addEventListener("DOMContentLoaded",e=>{N(document.getElementById("root")),G(e)});window.onpopstate=G;
